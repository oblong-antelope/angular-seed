<h1>Find a person</h1>

<!--FORM GOES HERE-->
<div class="container">
    <form (ngSubmit)="onSubmit()" #queryform="ngForm">

      <div class="form-group">
        <label for="name">Name</label>
        <input type="text" class="form-control" 
               [(ngModel)]="query.name" name="name" id="name" #name="ngModel">
      </div>

      <div class="form-group">
        <label for="expertise">Expertise</label>
        <input type="text" class="form-control" 
               [(ngModel)]="query.expertise" name="expertise" id="expertise" #expertise="ngModel">
      </div>

      <div class="form-group">
        <label for="roleselect">Role</label>
        <select class="form-control" id="roleselect" 
                [(ngModel)]="query.role" name="role" id="roleselect" #roleselect="ngModel">
          <option *ngFor="let role of roles">{{role}}</option>
        </select>
      </div>

      <button type="submit" class="btn btn-default">Submit</button>
      <button type="reset" class="btn btn-default btn-sm" (click)="resetForm()">Reset</button>
    </form>
</div>

<hr>

<datatable
    #mydatatable
    class='material expandable'
    [rows]='personList'
    (onPageChange)="paged($event)"
    (onRowClick)="toggleExpandRow($event.row)"
    [options]='options'>
    

    <datatable-row-detail-template>
      <template let-row="row">
        <div style="padding-left:10px;">
          <!--<h3 style="padding:0;margin:0">Address</h3>-->
          <div>SOME DATA!</div>
        </div>
      </template>
    </datatable-row-detail-template>

    <datatable-column
      [width]="50"
      [resizeable]="false"
      [sortable]="false"
      [draggable]="false"
      [canAutoResize]="true">
      <template let-row="row">
        <a
          href="#"
          [class.icon-right]="!row.$$expanded"
          [class.icon-down]="row.$$expanded"
          class="expander-btn"
          title="Expand/Collapse Row"
          (click)="toggleExpandRow(row)">
        </a>
      </template>
    </datatable-column>

    <datatable-column name="Index" width="80">
      <template let-row="row">
        <strong>{{row.$$index}}</strong>
      </template>
    </datatable-column>

    <datatable-column name="Name" width="200">
      <template let-value="value">
        <strong>{{value}}</strong>
      </template>
    </datatable-column>

    <datatable-column name="Department" width="300">
      <template let-row="row" let-value="value">
        {{value}}
      </template>
    </datatable-column>

    <datatable-column name="Email" width="300">
      <template let-row="row" let-value="value">
        {{value}}
      </template>
    </datatable-column>

  </datatable>

  <!--<table class="table table-hover">
  <thead class="thead-default">
  <tr>
  <th>#</th>
  <th>Name</th>
  <th>Department</th>
  <th>Email</th>
  </tr>
  </thead>
  <tbody>
  <tr *ngFor="let p of personList ; let i = index">
  <th scope="row">{{i}}</th>
  <td>{{p.name}}</td>
  <td>{{p.department}}</td>
  <td>{{p.email}}</td>
  </tr>
  </tbody>
  </table>-->

  <!--<accordion>
  <accordion-group *ngFor="let p of personList ; let i = index" [isOpen]="getPersonSummary(i)">
  <div accordion-heading>
      <table class="table table-hover">
        <tbody>
          <tr>
            <th scope="row">{{i}}</th>
            <td>{{p.name}}</td>
            <td>{{p.department}}</td>
            <td>{{p.email}}</td>
          </tr>
        </tbody>
      </table>
      <i class="pull-right glyphicon"
         [ngClass]="{'glyphicon-chevron-down': group?.isOpen, 'glyphicon-chevron-right': !group?.isOpen}"></i>
    </div>

    Some stuff For Now
  </accordion-group>

</accordion>-->
