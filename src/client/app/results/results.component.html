<div class="search">
  <sd-search-bar [query]="query"></sd-search-bar>
</div>

<sd-loading-bar *ngIf="loading"></sd-loading-bar>
<p *ngIf='!querySuccessful && submitted'>Search Was Not Successful, Please try another Search Term</p>

<br>

<ngx-datatable
    #mydatatable
    class='material expandable'
    [columnMode]="'force'"
    [headerHeight]="50"
    [footerHeight]="50"
    [rowHeight]="50"
    [detailRowHeight]="200"
    [scrollbarV]="true"
    [scrollbarH]="true"
    [rows]='personList'
    (onPageChange)="paged($event)"
    (onRowClick)="toggleExpandRow($event.row)">

    <ngx-datatable-row-detail>
      <template let-row="row">
        <div class="container">
          <div class="row">
            <div class="col-sm-4">
              <h4>Email:</h4>
              <p>{{row.email}}</p>
              <h4>Faculty:</h4>
              <p>{{row.faculty}}</p>
              <button type="button" class="btn btn-primary btn-arrow-right info-btn" 
                                    (click)="expandedButtonPress(row)" >More Details</button>
            </div>
            <div class="col-sm-8">
              <h6>Keywords:</h6>
              <li *ngFor="let word of row.keywords">{{word}}</li>
            </div>
          </div>
        </div>
      </template>
    </ngx-datatable-row-detail>

    <ngx-datatable-column name="" width="40">
      <template let-row="row">
        <strong>{{row.$$index}}</strong>
      </template>
    </ngx-datatable-column>

    <ngx-datatable-column name="Name" width="160">
      <template let-value="value">
        <strong>{{value.first}} {{value.last}}</strong>
      </template>
    </ngx-datatable-column>

    <ngx-datatable-column name="Department" width=300>
      <template let-row="row" let-value="value">
        {{value}}
      </template>
    </ngx-datatable-column>
  </ngx-datatable>
  